{"id":"DCtb","dependencies":[{"name":"/Users/nick/package.json","includedInParent":true,"mtime":1614354832405},{"name":"./misc-helpers","loc":{"line":4,"column":29},"parent":"/Users/nick/rstudio/shiny_apps/gridlayout/inst/griditor/www/make_el.ts","resolved":"/Users/nick/rstudio/shiny_apps/gridlayout/inst/griditor/www/misc-helpers.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.remove_elements=exports.make_el=void 0;var e=require(\"./misc-helpers\");function t(t,r,n){void 0===n&&(n={});var s=r.match(/^([^#\\.]+)+/g)[0],o=r.match(/(?<=#)([^\\.]+)/g),a=r.match(/(?<=\\.)([^\\.#]+)/g),i=t.querySelector(r);return i||(i=document.createElement(s),o&&(i.id=o[0]),a&&a.forEach(function(e){return i.classList.add(e)}),n.props&&Object.assign(i,n.props),t.appendChild(i)),n.event_listener&&e.as_array(n.event_listener).forEach(function(e){return i[\"on\"+e.event]=e.func}),n.styles&&Object.assign(i.style,n.styles),n.innerHTML&&(i.innerHTML=n.innerHTML),n.data_props&&Object.assign(i.dataset,n.data_props),n.grid_pos&&e.set_element_in_grid(i,n.grid_pos),i}function r(e){e.forEach(function(e){return e.remove()})}exports.make_el=t,exports.remove_elements=r;"},"sourceMaps":{"js":{"mappings":[{"source":"make_el.ts","name":null,"original":{"line":82,"column":0},"generated":{"line":1,"column":0}},{"source":"make_el.ts","name":null,"original":{"line":82,"column":0},"generated":{"line":1,"column":13}},{"source":"make_el.ts","name":null,"original":{"line":82,"column":0},"generated":{"line":1,"column":20}},{"source":"make_el.ts","name":null,"original":{"line":82,"column":0},"generated":{"line":1,"column":35}},{"source":"make_el.ts","name":null,"original":{"line":82,"column":0},"generated":{"line":1,"column":43}},{"source":"make_el.ts","name":null,"original":{"line":82,"column":0},"generated":{"line":1,"column":56}},{"source":"make_el.ts","name":null,"original":{"line":82,"column":0},"generated":{"line":1,"column":57}},{"source":"make_el.ts","name":null,"original":{"line":82,"column":0},"generated":{"line":1,"column":64}},{"source":"make_el.ts","name":null,"original":{"line":82,"column":0},"generated":{"line":1,"column":68}},{"source":"make_el.ts","name":null,"original":{"line":82,"column":0},"generated":{"line":1,"column":76}},{"source":"make_el.ts","name":null,"original":{"line":82,"column":0},"generated":{"line":1,"column":92}},{"source":"make_el.ts","name":null,"original":{"line":82,"column":0},"generated":{"line":1,"column":100}},{"source":"make_el.ts","name":null,"original":{"line":82,"column":0},"generated":{"line":1,"column":113}},{"source":"make_el.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":115}},{"source":"make_el.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":119}},{"source":"make_el.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":121}},{"source":"make_el.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":129}},{"source":"make_el.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":147}},{"source":"make_el.ts","name":null,"original":{"line":24,"column":16},"generated":{"line":1,"column":156}},{"source":"make_el.ts","name":null,"original":{"line":25,"column":2},"generated":{"line":1,"column":158}},{"source":"make_el.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":160}},{"source":"make_el.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":1,"column":162}},{"source":"make_el.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":1,"column":170}},{"source":"make_el.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":1,"column":174}},{"source":"make_el.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":1,"column":178}},{"source":"make_el.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":1,"column":180}},{"source":"make_el.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":1,"column":184}},{"source":"make_el.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":188}},{"source":"make_el.ts","name":null,"original":{"line":33,"column":27},"generated":{"line":1,"column":190}},{"source":"make_el.ts","name":null,"original":{"line":33,"column":35},"generated":{"line":1,"column":192}},{"source":"make_el.ts","name":null,"original":{"line":29,"column":24},"generated":{"line":1,"column":198}},{"source":"make_el.ts","name":null,"original":{"line":33,"column":56},"generated":{"line":1,"column":214}},{"source":"make_el.ts","name":null,"original":{"line":34,"column":8},"generated":{"line":1,"column":217}},{"source":"make_el.ts","name":null,"original":{"line":34,"column":34},"generated":{"line":1,"column":219}},{"source":"make_el.ts","name":null,"original":{"line":34,"column":42},"generated":{"line":1,"column":221}},{"source":"make_el.ts","name":null,"original":{"line":30,"column":23},"generated":{"line":1,"column":227}},{"source":"make_el.ts","name":null,"original":{"line":35,"column":8},"generated":{"line":1,"column":246}},{"source":"make_el.ts","name":null,"original":{"line":35,"column":39},"generated":{"line":1,"column":248}},{"source":"make_el.ts","name":null,"original":{"line":35,"column":47},"generated":{"line":1,"column":250}},{"source":"make_el.ts","name":null,"original":{"line":31,"column":26},"generated":{"line":1,"column":256}},{"source":"make_el.ts","name":null,"original":{"line":37,"column":6},"generated":{"line":1,"column":277}},{"source":"make_el.ts","name":null,"original":{"line":37,"column":24},"generated":{"line":1,"column":279}},{"source":"make_el.ts","name":null,"original":{"line":37,"column":31},"generated":{"line":1,"column":281}},{"source":"make_el.ts","name":null,"original":{"line":37,"column":45},"generated":{"line":1,"column":295}},{"source":"make_el.ts","name":null,"original":{"line":78,"column":9},"generated":{"line":1,"column":298}},{"source":"make_el.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":1,"column":305}},{"source":"make_el.ts","name":null,"original":{"line":40,"column":4},"generated":{"line":1,"column":309}},{"source":"make_el.ts","name":null,"original":{"line":40,"column":9},"generated":{"line":1,"column":311}},{"source":"make_el.ts","name":null,"original":{"line":40,"column":18},"generated":{"line":1,"column":320}},{"source":"make_el.ts","name":null,"original":{"line":40,"column":32},"generated":{"line":1,"column":334}},{"source":"make_el.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":1,"column":337}},{"source":"make_el.ts","name":null,"original":{"line":42,"column":6},"generated":{"line":1,"column":341}},{"source":"make_el.ts","name":null,"original":{"line":42,"column":9},"generated":{"line":1,"column":343}},{"source":"make_el.ts","name":null,"original":{"line":42,"column":14},"generated":{"line":1,"column":346}},{"source":"make_el.ts","name":null,"original":{"line":42,"column":20},"generated":{"line":1,"column":348}},{"source":"make_el.ts","name":null,"original":{"line":45,"column":8},"generated":{"line":1,"column":352}},{"source":"make_el.ts","name":null,"original":{"line":46,"column":6},"generated":{"line":1,"column":355}},{"source":"make_el.ts","name":null,"original":{"line":46,"column":17},"generated":{"line":1,"column":357}},{"source":"make_el.ts","name":null,"original":{"line":46,"column":25},"generated":{"line":1,"column":365}},{"source":"make_el.ts","name":null,"original":{"line":46,"column":26},"generated":{"line":1,"column":374}},{"source":"make_el.ts","name":null,"original":{"line":46,"column":32},"generated":{"line":1,"column":377}},{"source":"make_el.ts","name":null,"original":{"line":46,"column":32},"generated":{"line":1,"column":384}},{"source":"make_el.ts","name":null,"original":{"line":46,"column":35},"generated":{"line":1,"column":386}},{"source":"make_el.ts","name":null,"original":{"line":46,"column":45},"generated":{"line":1,"column":396}},{"source":"make_el.ts","name":null,"original":{"line":46,"column":49},"generated":{"line":1,"column":400}},{"source":"make_el.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":1,"column":405}},{"source":"make_el.ts","name":null,"original":{"line":49,"column":13},"generated":{"line":1,"column":407}},{"source":"make_el.ts","name":null,"original":{"line":50,"column":6},"generated":{"line":1,"column":414}},{"source":"make_el.ts","name":null,"original":{"line":50,"column":13},"generated":{"line":1,"column":421}},{"source":"make_el.ts","name":null,"original":{"line":50,"column":20},"generated":{"line":1,"column":428}},{"source":"make_el.ts","name":null,"original":{"line":50,"column":24},"generated":{"line":1,"column":430}},{"source":"make_el.ts","name":null,"original":{"line":50,"column":29},"generated":{"line":1,"column":432}},{"source":"make_el.ts","name":null,"original":{"line":53,"column":4},"generated":{"line":1,"column":439}},{"source":"make_el.ts","name":null,"original":{"line":53,"column":11},"generated":{"line":1,"column":441}},{"source":"make_el.ts","name":null,"original":{"line":53,"column":23},"generated":{"line":1,"column":453}},{"source":"make_el.ts","name":null,"original":{"line":56,"column":6},"generated":{"line":1,"column":457}},{"source":"make_el.ts","name":null,"original":{"line":56,"column":11},"generated":{"line":1,"column":459}},{"source":"make_el.ts","name":null,"original":{"line":57,"column":4},"generated":{"line":1,"column":475}},{"source":"make_el.ts","name":null,"original":{"line":57,"column":4},"generated":{"line":1,"column":477}},{"source":"make_el.ts","name":null,"original":{"line":57,"column":13},"generated":{"line":1,"column":486}},{"source":"make_el.ts","name":null,"original":{"line":57,"column":18},"generated":{"line":1,"column":488}},{"source":"make_el.ts","name":null,"original":{"line":57,"column":34},"generated":{"line":1,"column":504}},{"source":"make_el.ts","name":null,"original":{"line":58,"column":6},"generated":{"line":1,"column":512}},{"source":"make_el.ts","name":null,"original":{"line":58,"column":7},"generated":{"line":1,"column":521}},{"source":"make_el.ts","name":null,"original":{"line":58,"column":21},"generated":{"line":1,"column":524}},{"source":"make_el.ts","name":null,"original":{"line":58,"column":21},"generated":{"line":1,"column":531}},{"source":"make_el.ts","name":null,"original":{"line":58,"column":24},"generated":{"line":1,"column":533}},{"source":"make_el.ts","name":null,"original":{"line":58,"column":31},"generated":{"line":1,"column":538}},{"source":"make_el.ts","name":null,"original":{"line":58,"column":40},"generated":{"line":1,"column":540}},{"source":"make_el.ts","name":null,"original":{"line":58,"column":49},"generated":{"line":1,"column":547}},{"source":"make_el.ts","name":null,"original":{"line":58,"column":58},"generated":{"line":1,"column":549}},{"source":"make_el.ts","name":null,"original":{"line":62,"column":6},"generated":{"line":1,"column":556}},{"source":"make_el.ts","name":null,"original":{"line":62,"column":11},"generated":{"line":1,"column":558}},{"source":"make_el.ts","name":null,"original":{"line":63,"column":4},"generated":{"line":1,"column":566}},{"source":"make_el.ts","name":null,"original":{"line":63,"column":11},"generated":{"line":1,"column":573}},{"source":"make_el.ts","name":null,"original":{"line":63,"column":18},"generated":{"line":1,"column":580}},{"source":"make_el.ts","name":null,"original":{"line":63,"column":21},"generated":{"line":1,"column":582}},{"source":"make_el.ts","name":null,"original":{"line":63,"column":28},"generated":{"line":1,"column":588}},{"source":"make_el.ts","name":null,"original":{"line":63,"column":33},"generated":{"line":1,"column":590}},{"source":"make_el.ts","name":null,"original":{"line":66,"column":6},"generated":{"line":1,"column":598}},{"source":"make_el.ts","name":null,"original":{"line":66,"column":11},"generated":{"line":1,"column":600}},{"source":"make_el.ts","name":null,"original":{"line":67,"column":4},"generated":{"line":1,"column":612}},{"source":"make_el.ts","name":null,"original":{"line":67,"column":7},"generated":{"line":1,"column":614}},{"source":"make_el.ts","name":null,"original":{"line":67,"column":19},"generated":{"line":1,"column":624}},{"source":"make_el.ts","name":null,"original":{"line":67,"column":24},"generated":{"line":1,"column":626}},{"source":"make_el.ts","name":null,"original":{"line":70,"column":6},"generated":{"line":1,"column":637}},{"source":"make_el.ts","name":null,"original":{"line":70,"column":11},"generated":{"line":1,"column":639}},{"source":"make_el.ts","name":null,"original":{"line":71,"column":4},"generated":{"line":1,"column":651}},{"source":"make_el.ts","name":null,"original":{"line":71,"column":11},"generated":{"line":1,"column":658}},{"source":"make_el.ts","name":null,"original":{"line":71,"column":18},"generated":{"line":1,"column":665}},{"source":"make_el.ts","name":null,"original":{"line":71,"column":21},"generated":{"line":1,"column":667}},{"source":"make_el.ts","name":null,"original":{"line":71,"column":30},"generated":{"line":1,"column":675}},{"source":"make_el.ts","name":null,"original":{"line":71,"column":35},"generated":{"line":1,"column":677}},{"source":"make_el.ts","name":null,"original":{"line":74,"column":6},"generated":{"line":1,"column":689}},{"source":"make_el.ts","name":null,"original":{"line":74,"column":11},"generated":{"line":1,"column":691}},{"source":"make_el.ts","name":null,"original":{"line":75,"column":4},"generated":{"line":1,"column":701}},{"source":"make_el.ts","name":null,"original":{"line":75,"column":4},"generated":{"line":1,"column":703}},{"source":"make_el.ts","name":null,"original":{"line":75,"column":24},"generated":{"line":1,"column":723}},{"source":"make_el.ts","name":null,"original":{"line":75,"column":28},"generated":{"line":1,"column":725}},{"source":"make_el.ts","name":null,"original":{"line":75,"column":33},"generated":{"line":1,"column":727}},{"source":"make_el.ts","name":null,"original":{"line":78,"column":9},"generated":{"line":1,"column":737}},{"source":"make_el.ts","name":null,"original":{"line":82,"column":0},"generated":{"line":1,"column":739}},{"source":"make_el.ts","name":null,"original":{"line":82,"column":16},"generated":{"line":1,"column":748}},{"source":"make_el.ts","name":null,"original":{"line":82,"column":32},"generated":{"line":1,"column":750}},{"source":"make_el.ts","name":null,"original":{"line":83,"column":2},"generated":{"line":1,"column":753}},{"source":"make_el.ts","name":null,"original":{"line":83,"column":16},"generated":{"line":1,"column":755}},{"source":"make_el.ts","name":null,"original":{"line":83,"column":24},"generated":{"line":1,"column":763}},{"source":"make_el.ts","name":null,"original":{"line":83,"column":25},"generated":{"line":1,"column":772}},{"source":"make_el.ts","name":null,"original":{"line":83,"column":31},"generated":{"line":1,"column":775}},{"source":"make_el.ts","name":null,"original":{"line":83,"column":31},"generated":{"line":1,"column":782}},{"source":"make_el.ts","name":null,"original":{"line":83,"column":33},"generated":{"line":1,"column":784}},{"source":"make_el.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":795}},{"source":"make_el.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":803}},{"source":"make_el.ts","name":null,"original":{"line":24,"column":0},"generated":{"line":1,"column":811}},{"source":"make_el.ts","name":null,"original":{"line":82,"column":0},"generated":{"line":1,"column":813}},{"source":"make_el.ts","name":null,"original":{"line":82,"column":0},"generated":{"line":1,"column":821}},{"source":"make_el.ts","name":null,"original":{"line":82,"column":0},"generated":{"line":1,"column":837}}],"sources":{"make_el.ts":"import { Grid_Pos } from \".\";\nimport {\n  as_array,\n  set_element_in_grid,\n} from \"./misc-helpers\";\n\nexport interface Event_Listener {\n  event: string;\n  func: (event: Event) => void;\n}\n\ninterface Element_Opts {\n  event_listener?: Event_Listener | Array<Event_Listener>;\n  styles?: object;\n  innerHTML?: string;\n  data_props?: object;\n  grid_pos?: Grid_Pos;\n  props?: object;\n}\n\n// This is a heavy-lifter that takes care of building elements and placing them\n// on the grid etc.. It only create's an element if it needs to, which means\n// that we dont get dom leaks caused by recalling stuff over and over again.\nexport function make_el(\n  parent: HTMLElement,\n  sel_txt: string,\n  opts: Element_Opts = {}\n) {\n  const get_tag_regex = /^([^#\\.]+)+/g;\n  const get_id_regex = /(?<=#)([^\\.]+)/g;\n  const get_class_regex = /(?<=\\.)([^\\.#]+)/g;\n\n  const tag_type: string = sel_txt.match(get_tag_regex)[0];\n  const el_id: RegExpMatchArray = sel_txt.match(get_id_regex);\n  const class_list: RegExpMatchArray = sel_txt.match(get_class_regex);\n\n  let el: HTMLElement = parent.querySelector(sel_txt);\n  if (!el) {\n    // Element doesn't exists so we need to make it\n    el = document.createElement(tag_type);\n    if (el_id) {\n      el.id = el_id[0];\n    }\n\n    if (class_list) {\n      class_list.forEach((x) => el.classList.add(x));\n    }\n\n    if (opts.props) {\n      Object.assign(el, opts.props);\n    }\n\n    parent.appendChild(el);\n  }\n\n  if (opts.event_listener) {\n    as_array(opts.event_listener).forEach(\n      (listener) => (el[\"on\" + listener.event] = listener.func)\n    );\n  }\n\n  if (opts.styles) {\n    Object.assign(el.style, opts.styles);\n  }\n\n  if (opts.innerHTML) {\n    el.innerHTML = opts.innerHTML;\n  }\n\n  if (opts.data_props) {\n    Object.assign(el.dataset, opts.data_props);\n  }\n\n  if (opts.grid_pos) {\n    set_element_in_grid(el, opts.grid_pos);\n  }\n\n  return el;\n}\n\n// Given a list of elements from a query selector, remove them all\nexport function remove_elements(els_to_remove: NodeListOf<Element>): void {\n  els_to_remove.forEach((e) => e.remove());\n}\n"},"lineCount":null}},"error":null,"hash":"c3422fbab3c791f9cc1003c31ae4a3ad","cacheData":{"env":{}}}