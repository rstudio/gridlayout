{"id":"Tzqd","dependencies":[{"name":"/Users/nick/package.json","includedInParent":true,"mtime":1614354832405},{"name":"./icons","loc":{"line":4,"column":22},"parent":"/Users/nick/rstudio/shiny_apps/gridlayout/inst/griditor/www/make_css_unit_input.ts","resolved":"/Users/nick/rstudio/shiny_apps/gridlayout/inst/griditor/www/icons.ts"},{"name":"./make_el","loc":{"line":5,"column":24},"parent":"/Users/nick/rstudio/shiny_apps/gridlayout/inst/griditor/www/make_css_unit_input.ts","resolved":"/Users/nick/rstudio/shiny_apps/gridlayout/inst/griditor/www/make_el.ts"},{"name":"./misc-helpers","loc":{"line":6,"column":29},"parent":"/Users/nick/rstudio/shiny_apps/gridlayout/inst/griditor/www/make_css_unit_input.ts","resolved":"/Users/nick/rstudio/shiny_apps/gridlayout/inst/griditor/www/misc-helpers.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.make_css_unit_input=void 0;var e=require(\"./icons\"),t=require(\"./make_el\"),n=require(\"./misc-helpers\");function i(i){var a=i.parent_el,r=i.selector,s=void 0===r?\"\":r,u=i.start_val,o=void 0===u?1:u,l=i.start_unit,c=void 0===l?\"fr\":l,v=i.on_change,d=void 0===v?function(e){return console.log(\"css unit change\",e)}:v,_=i.allowed_units,p=void 0===_?[\"fr\",\"px\",\"rem\"]:_,f=i.form_styles,g=void 0===f?{}:f,m=i.drag_dir,h=void 0===m?\"none\":m,k=\"none\"!==h,b=t.make_el(a,\"form\"+s+\".css-unit-input\",{styles:g,event_listener:[{event:\"change\",func:function(){var e=M();q(e),d(e)}},{event:\"submit\",func:function(e){e.preventDefault()}}]}),x=t.make_el(b,\"input.css-unit-input-value\",{props:{type:\"number\",min:0,value:o,step:1,\"aria-live\":\"polite\"}}),y=t.make_el(b,\"select.css-unit-input-select\",{props:{name:\"units\"}}),L=t.make_el(b,\"div.css-unit-input-dragger\",{innerHTML:\"y\"===h?e.vertical_drag_icon:e.horizontal_drag_icon});function M(){return\"\"+x.value+y.value}function q(e){x.value=n.get_css_value(e).toString();for(var t=n.get_css_unit(e),i=0,a=y.children;i<a.length;i++){var r=a[i];r.selected=r.value===t}\"px\"===t&&k?b.classList.add(\"with-drag\"):b.classList.remove(\"with-drag\")}return t.make_el(L,\"div.css-unit-input-drag-detector\",{props:{draggable:!0},event_listener:[{event:\"dragstart\",func:function(e){this.dataset.baseline=x.value,this.dataset.start=e[h]}},{event:\"drag\",func:function(e){if(0!==e[h]){var t=Math.max(0,+this.dataset.baseline+(e[h]-this.dataset.start));x.value=t.toString(),d(M())}}}]}),p.forEach(function(e){var n=t.make_el(y,\"option.\"+e,{props:{value:e},innerHTML:e});e===c&&(n.selected=!0)}),q(\"\"+o+c),{form:b,current_value:M,update_value:q}}exports.make_css_unit_input=i;"},"sourceMaps":{"js":{"mappings":[{"source":"make_css_unit_input.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":0}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":13}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":20}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":35}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":43}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":56}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":57}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":64}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":68}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":76}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":101}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":103}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":109}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":117}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":128}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":130}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":138}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":151}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":153}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":161}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":179}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":15,"column":16},"generated":{"line":1,"column":188}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":15,"column":36},"generated":{"line":1,"column":190}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":1,"column":193}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":1,"column":197}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":16,"column":11},"generated":{"line":1,"column":199}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":16,"column":11},"generated":{"line":1,"column":201}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":1,"column":211}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":1,"column":213}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":1,"column":215}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":17,"column":2},"generated":{"line":1,"column":224}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":17,"column":10},"generated":{"line":1,"column":231}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":17,"column":10},"generated":{"line":1,"column":235}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":17,"column":13},"generated":{"line":1,"column":237}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":17,"column":15},"generated":{"line":1,"column":240}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":242}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":244}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":246}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":256}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":18,"column":11},"generated":{"line":1,"column":263}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":18,"column":11},"generated":{"line":1,"column":267}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":18,"column":14},"generated":{"line":1,"column":269}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":18,"column":15},"generated":{"line":1,"column":271}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":273}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":275}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":277}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":19,"column":2},"generated":{"line":1,"column":288}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":19,"column":12},"generated":{"line":1,"column":295}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":19,"column":12},"generated":{"line":1,"column":299}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":19,"column":15},"generated":{"line":1,"column":301}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":19,"column":19},"generated":{"line":1,"column":306}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":20,"column":2},"generated":{"line":1,"column":308}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":20,"column":2},"generated":{"line":1,"column":310}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":20,"column":2},"generated":{"line":1,"column":312}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":20,"column":2},"generated":{"line":1,"column":322}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":1,"column":329}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":20,"column":11},"generated":{"line":1,"column":333}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":20,"column":14},"generated":{"line":1,"column":335}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":20,"column":15},"generated":{"line":1,"column":344}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":20,"column":29},"generated":{"line":1,"column":347}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":20,"column":29},"generated":{"line":1,"column":354}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":20,"column":37},"generated":{"line":1,"column":362}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":20,"column":41},"generated":{"line":1,"column":366}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":20,"column":60},"generated":{"line":1,"column":384}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":20,"column":62},"generated":{"line":1,"column":388}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":390}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":392}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":394}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":408}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":21,"column":15},"generated":{"line":1,"column":415}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":21,"column":15},"generated":{"line":1,"column":419}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":21,"column":18},"generated":{"line":1,"column":421}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":21,"column":19},"generated":{"line":1,"column":422}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":21,"column":25},"generated":{"line":1,"column":427}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":21,"column":31},"generated":{"line":1,"column":432}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":21,"column":37},"generated":{"line":1,"column":439}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":1,"column":441}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":1,"column":443}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":1,"column":445}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":1,"column":457}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":22,"column":13},"generated":{"line":1,"column":464}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":22,"column":13},"generated":{"line":1,"column":468}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":22,"column":16},"generated":{"line":1,"column":470}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":22,"column":18},"generated":{"line":1,"column":473}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":475}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":477}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":479}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":488}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":23,"column":10},"generated":{"line":1,"column":495}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":23,"column":10},"generated":{"line":1,"column":499}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":23,"column":13},"generated":{"line":1,"column":501}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":23,"column":19},"generated":{"line":1,"column":508}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":510}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":25,"column":34},"generated":{"line":1,"column":512}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":25,"column":21},"generated":{"line":1,"column":521}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":27,"column":8},"generated":{"line":1,"column":523}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":27,"column":15},"generated":{"line":1,"column":525}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":27,"column":15},"generated":{"line":1,"column":527}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":27,"column":23},"generated":{"line":1,"column":535}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":27,"column":34},"generated":{"line":1,"column":537}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":27,"column":41},"generated":{"line":1,"column":544}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":27,"column":49},"generated":{"line":1,"column":546}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":27,"column":68},"generated":{"line":1,"column":564}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":28,"column":4},"generated":{"line":1,"column":565}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":28,"column":12},"generated":{"line":1,"column":572}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":574}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":29,"column":20},"generated":{"line":1,"column":589}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":30,"column":6},"generated":{"line":1,"column":590}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":591}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":30,"column":15},"generated":{"line":1,"column":597}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":30,"column":25},"generated":{"line":1,"column":606}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":108,"column":11},"generated":{"line":1,"column":611}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":109,"column":10},"generated":{"line":1,"column":622}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":109,"column":10},"generated":{"line":1,"column":626}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":109,"column":16},"generated":{"line":1,"column":628}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":110,"column":4},"generated":{"line":1,"column":632}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":110,"column":17},"generated":{"line":1,"column":634}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":111,"column":4},"generated":{"line":1,"column":637}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":111,"column":14},"generated":{"line":1,"column":639}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":31,"column":6},"generated":{"line":1,"column":644}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":645}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":32,"column":15},"generated":{"line":1,"column":651}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":33,"column":8},"generated":{"line":1,"column":660}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":33,"column":14},"generated":{"line":1,"column":665}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":33,"column":24},"generated":{"line":1,"column":674}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":35,"column":10},"generated":{"line":1,"column":677}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":35,"column":12},"generated":{"line":1,"column":679}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":1,"column":701}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":1,"column":703}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":42,"column":4},"generated":{"line":1,"column":705}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":42,"column":12},"generated":{"line":1,"column":713}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":42,"column":18},"generated":{"line":1,"column":715}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":42,"column":48},"generated":{"line":1,"column":744}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":43,"column":6},"generated":{"line":1,"column":745}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":43,"column":13},"generated":{"line":1,"column":751}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":44,"column":8},"generated":{"line":1,"column":752}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":44,"column":14},"generated":{"line":1,"column":757}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":45,"column":8},"generated":{"line":1,"column":766}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":770}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":772}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":46,"column":15},"generated":{"line":1,"column":778}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":47,"column":8},"generated":{"line":1,"column":780}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":47,"column":14},"generated":{"line":1,"column":785}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":48,"column":21},"generated":{"line":1,"column":787}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":48,"column":21},"generated":{"line":1,"column":799}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":53,"column":8},"generated":{"line":1,"column":811}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":1,"column":813}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":1,"column":815}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":54,"column":12},"generated":{"line":1,"column":823}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":54,"column":18},"generated":{"line":1,"column":825}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":54,"column":50},"generated":{"line":1,"column":856}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":55,"column":6},"generated":{"line":1,"column":857}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":55,"column":13},"generated":{"line":1,"column":863}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":55,"column":15},"generated":{"line":1,"column":864}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":55,"column":21},"generated":{"line":1,"column":869}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":59,"column":8},"generated":{"line":1,"column":880}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":59,"column":18},"generated":{"line":1,"column":882}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":59,"column":18},"generated":{"line":1,"column":884}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":59,"column":26},"generated":{"line":1,"column":892}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":59,"column":32},"generated":{"line":1,"column":894}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":59,"column":62},"generated":{"line":1,"column":923}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":60,"column":4},"generated":{"line":1,"column":924}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":60,"column":28},"generated":{"line":1,"column":934}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":60,"column":15},"generated":{"line":1,"column":940}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":60,"column":34},"generated":{"line":1,"column":942}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":60,"column":34},"generated":{"line":1,"column":944}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":60,"column":55},"generated":{"line":1,"column":963}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":60,"column":55},"generated":{"line":1,"column":965}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":105,"column":11},"generated":{"line":1,"column":988}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":105,"column":11},"generated":{"line":1,"column":997}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":106,"column":11},"generated":{"line":1,"column":1001}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":106,"column":11},"generated":{"line":1,"column":1007}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":106,"column":14},"generated":{"line":1,"column":1010}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":106,"column":26},"generated":{"line":1,"column":1012}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":106,"column":34},"generated":{"line":1,"column":1018}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":106,"column":48},"generated":{"line":1,"column":1020}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":114,"column":11},"generated":{"line":1,"column":1026}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":114,"column":11},"generated":{"line":1,"column":1035}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":114,"column":24},"generated":{"line":1,"column":1037}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":115,"column":4},"generated":{"line":1,"column":1040}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":115,"column":16},"generated":{"line":1,"column":1042}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":115,"column":24},"generated":{"line":1,"column":1048}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":115,"column":24},"generated":{"line":1,"column":1050}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":115,"column":38},"generated":{"line":1,"column":1064}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":115,"column":49},"generated":{"line":1,"column":1067}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":118,"column":20},"generated":{"line":1,"column":1078}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":116,"column":10},"generated":{"line":1,"column":1082}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":116,"column":10},"generated":{"line":1,"column":1086}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":116,"column":21},"generated":{"line":1,"column":1088}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":116,"column":21},"generated":{"line":1,"column":1090}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":116,"column":34},"generated":{"line":1,"column":1103}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":118,"column":20},"generated":{"line":1,"column":1106}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":118,"column":20},"generated":{"line":1,"column":1108}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":118,"column":20},"generated":{"line":1,"column":1110}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":118,"column":20},"generated":{"line":1,"column":1112}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":118,"column":34},"generated":{"line":1,"column":1114}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":118,"column":20},"generated":{"line":1,"column":1123}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":118,"column":20},"generated":{"line":1,"column":1125}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":118,"column":20},"generated":{"line":1,"column":1127}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":118,"column":20},"generated":{"line":1,"column":1134}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":120,"column":7},"generated":{"line":1,"column":1138}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":118,"column":13},"generated":{"line":1,"column":1139}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":118,"column":13},"generated":{"line":1,"column":1143}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":118,"column":16},"generated":{"line":1,"column":1145}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":118,"column":16},"generated":{"line":1,"column":1147}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":121,"column":6},"generated":{"line":1,"column":1150}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":121,"column":10},"generated":{"line":1,"column":1152}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":121,"column":21},"generated":{"line":1,"column":1161}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":121,"column":25},"generated":{"line":1,"column":1163}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":121,"column":35},"generated":{"line":1,"column":1171}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":124,"column":21},"generated":{"line":1,"column":1173}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":124,"column":8},"generated":{"line":1,"column":1180}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":124,"column":29},"generated":{"line":1,"column":1183}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":125,"column":6},"generated":{"line":1,"column":1185}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":125,"column":11},"generated":{"line":1,"column":1187}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":125,"column":21},"generated":{"line":1,"column":1197}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":125,"column":25},"generated":{"line":1,"column":1201}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":127,"column":6},"generated":{"line":1,"column":1214}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":127,"column":11},"generated":{"line":1,"column":1216}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":127,"column":21},"generated":{"line":1,"column":1226}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":127,"column":28},"generated":{"line":1,"column":1233}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":133,"column":9},"generated":{"line":1,"column":1246}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":66,"column":2},"generated":{"line":1,"column":1253}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":66,"column":2},"generated":{"line":1,"column":1255}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":66,"column":10},"generated":{"line":1,"column":1263}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":66,"column":19},"generated":{"line":1,"column":1265}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":66,"column":55},"generated":{"line":1,"column":1300}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":67,"column":4},"generated":{"line":1,"column":1301}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":67,"column":11},"generated":{"line":1,"column":1307}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":67,"column":13},"generated":{"line":1,"column":1308}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":67,"column":24},"generated":{"line":1,"column":1319}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":68,"column":4},"generated":{"line":1,"column":1322}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":68,"column":20},"generated":{"line":1,"column":1337}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":69,"column":6},"generated":{"line":1,"column":1338}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":70,"column":8},"generated":{"line":1,"column":1339}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":70,"column":15},"generated":{"line":1,"column":1345}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":71,"column":8},"generated":{"line":1,"column":1357}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":71,"column":14},"generated":{"line":1,"column":1362}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":71,"column":24},"generated":{"line":1,"column":1371}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":72,"column":15},"generated":{"line":1,"column":1374}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":72,"column":15},"generated":{"line":1,"column":1379}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":72,"column":23},"generated":{"line":1,"column":1387}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":72,"column":34},"generated":{"line":1,"column":1396}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":72,"column":46},"generated":{"line":1,"column":1398}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":73,"column":15},"generated":{"line":1,"column":1404}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":73,"column":15},"generated":{"line":1,"column":1409}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":73,"column":23},"generated":{"line":1,"column":1417}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":73,"column":31},"generated":{"line":1,"column":1423}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":73,"column":37},"generated":{"line":1,"column":1425}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":76,"column":6},"generated":{"line":1,"column":1430}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":77,"column":8},"generated":{"line":1,"column":1431}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":77,"column":15},"generated":{"line":1,"column":1437}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":78,"column":8},"generated":{"line":1,"column":1444}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":78,"column":14},"generated":{"line":1,"column":1449}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":78,"column":24},"generated":{"line":1,"column":1458}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":81,"column":14},"generated":{"line":1,"column":1461}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":81,"column":27},"generated":{"line":1,"column":1464}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":79,"column":27},"generated":{"line":1,"column":1468}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":79,"column":33},"generated":{"line":1,"column":1470}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":81,"column":14},"generated":{"line":1,"column":1473}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":82,"column":16},"generated":{"line":1,"column":1474}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":82,"column":16},"generated":{"line":1,"column":1478}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":82,"column":28},"generated":{"line":1,"column":1480}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":82,"column":33},"generated":{"line":1,"column":1485}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":83,"column":12},"generated":{"line":1,"column":1489}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":84,"column":13},"generated":{"line":1,"column":1492}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":84,"column":18},"generated":{"line":1,"column":1497}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":84,"column":26},"generated":{"line":1,"column":1505}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":84,"column":38},"generated":{"line":1,"column":1515}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":84,"column":44},"generated":{"line":1,"column":1517}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":84,"column":56},"generated":{"line":1,"column":1520}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":84,"column":61},"generated":{"line":1,"column":1525}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":84,"column":69},"generated":{"line":1,"column":1533}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":86,"column":10},"generated":{"line":1,"column":1541}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":86,"column":22},"generated":{"line":1,"column":1543}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":86,"column":30},"generated":{"line":1,"column":1549}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":86,"column":40},"generated":{"line":1,"column":1551}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":87,"column":10},"generated":{"line":1,"column":1562}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":87,"column":20},"generated":{"line":1,"column":1564}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":93,"column":2},"generated":{"line":1,"column":1575}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":93,"column":16},"generated":{"line":1,"column":1577}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":93,"column":24},"generated":{"line":1,"column":1585}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":93,"column":34},"generated":{"line":1,"column":1594}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":94,"column":10},"generated":{"line":1,"column":1597}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":94,"column":10},"generated":{"line":1,"column":1601}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":95,"column":6},"generated":{"line":1,"column":1603}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":95,"column":6},"generated":{"line":1,"column":1605}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":95,"column":14},"generated":{"line":1,"column":1613}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":95,"column":29},"generated":{"line":1,"column":1615}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":95,"column":39},"generated":{"line":1,"column":1625}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":95,"column":52},"generated":{"line":1,"column":1627}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":96,"column":8},"generated":{"line":1,"column":1628}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":96,"column":15},"generated":{"line":1,"column":1634}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":96,"column":17},"generated":{"line":1,"column":1635}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":96,"column":24},"generated":{"line":1,"column":1641}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":97,"column":8},"generated":{"line":1,"column":1644}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":97,"column":19},"generated":{"line":1,"column":1654}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":101,"column":8},"generated":{"line":1,"column":1658}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":101,"column":22},"generated":{"line":1,"column":1662}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":102,"column":6},"generated":{"line":1,"column":1666}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":102,"column":18},"generated":{"line":1,"column":1668}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":102,"column":29},"generated":{"line":1,"column":1678}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":131,"column":2},"generated":{"line":1,"column":1683}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":131,"column":15},"generated":{"line":1,"column":1685}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":131,"column":18},"generated":{"line":1,"column":1688}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":131,"column":30},"generated":{"line":1,"column":1690}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":133,"column":9},"generated":{"line":1,"column":1693}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":133,"column":11},"generated":{"line":1,"column":1694}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":133,"column":15},"generated":{"line":1,"column":1699}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":133,"column":17},"generated":{"line":1,"column":1701}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":133,"column":30},"generated":{"line":1,"column":1715}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":133,"column":32},"generated":{"line":1,"column":1717}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":133,"column":44},"generated":{"line":1,"column":1730}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":1733}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":1741}},{"source":"make_css_unit_input.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":1761}}],"sources":{"make_css_unit_input.ts":"import { horizontal_drag_icon, vertical_drag_icon } from \"./icons\";\nimport { make_el } from \"./make_el\";\nimport { get_css_value, get_css_unit } from \"./misc-helpers\";\n\nexport interface CSS_Input {\n  form: HTMLElement;\n  current_value: () => string;\n  update_value: (new_value: string) => void;\n}\n// =============================================================================\n// From here on are a series of general purpose helper functions not\n// specifically related to the app and its state\n// Input with value text box on left and unit selector dropdown on right\n// Used to make valid css sizes\nexport function make_css_unit_input({\n  parent_el,\n  selector = \"\",\n  start_val = 1,\n  start_unit = \"fr\",\n  on_change = (x: string) => console.log(\"css unit change\", x),\n  allowed_units = [\"fr\", \"px\", \"rem\"],\n  form_styles = {},\n  drag_dir = \"none\",\n}): CSS_Input {\n  const allow_drag = drag_dir !== \"none\";\n\n  const form = make_el(parent_el, `form${selector}.css-unit-input`, {\n    styles: form_styles,\n    event_listener: [\n      { event: \"change\", func: on_update },\n      {\n        event: \"submit\",\n        func: function (e) {\n          // Needed to stop pressing enter causing page to refresh\n          e.preventDefault();\n        },\n      },\n    ],\n  });\n\n  const value_input = <HTMLInputElement>(\n    make_el(form, \"input.css-unit-input-value\", {\n      props: {\n        type: \"number\",\n        min: 0,\n        value: start_val,\n        step: 1,\n        \"aria-live\": \"polite\",\n      },\n    })\n  );\n\n  const unit_selector = <HTMLSelectElement>(\n    make_el(form, \"select.css-unit-input-select\", {\n      props: { name: \"units\" },\n    })\n  );\n\n  const resizer = make_el(form, \"div.css-unit-input-dragger\", {\n    innerHTML: drag_dir === \"y\" ? vertical_drag_icon : horizontal_drag_icon,\n  });\n\n  // Place an invisible div over the main one that we let be dragged. This means\n  // we can use the nice drag interaction callbacks without the ugly default\n  // drag behavior of two copies of the div and zooming back to the start pos etc.\n  make_el(resizer, \"div.css-unit-input-drag-detector\", {\n    props: { draggable: true },\n    event_listener: [\n      {\n        event: \"dragstart\",\n        func: function (event) {\n          this.dataset.baseline = value_input.value;\n          this.dataset.start = event[drag_dir];\n        },\n      },\n      {\n        event: \"drag\",\n        func: function (event) {\n          const drag_pos = event[drag_dir];\n          // At the end of the drag we get a drag event with 0 values that throws stuff off\n          if (drag_pos === 0) return;\n          const new_value = Math.max(\n            0,\n            +this.dataset.baseline + (event[drag_dir] - this.dataset.start)\n          );\n          value_input.value = new_value.toString();\n          on_change(current_value());\n        },\n      },\n    ],\n  });\n\n  allowed_units.forEach(function (unit_type) {\n    const unit_option = <HTMLOptionElement>(\n      make_el(unit_selector, `option.${unit_type}`, {\n        props: { value: unit_type },\n        innerHTML: unit_type,\n      })\n    );\n\n    if (unit_type === start_unit) {\n      unit_option.selected = true;\n    }\n  });\n  function current_value() {\n    return `${value_input.value}${unit_selector.value}`;\n  }\n  function on_update() {\n    const val = current_value();\n    update_value(val);\n    on_change(val);\n  }\n\n  function update_value(new_value: string) {\n    value_input.value = get_css_value(new_value).toString();\n    const new_unit = get_css_unit(new_value);\n\n    for (let opt of unit_selector.children as HTMLCollectionOf<\n      HTMLOptionElement\n    >) {\n      opt.selected = opt.value === new_unit;\n    }\n\n    if (new_unit === \"px\" && allow_drag) {\n      form.classList.add(\"with-drag\");\n    } else {\n      form.classList.remove(\"with-drag\");\n    }\n  }\n\n  update_value(`${start_val}${start_unit}`);\n\n  return { form, current_value, update_value };\n}\n"},"lineCount":null}},"error":null,"hash":"dd1346de980a6ca9cb7cf6f0b332e9ec","cacheData":{"env":{}}}