{"id":"Tzqd","dependencies":[{"name":"/Users/nick/package.json","includedInParent":true,"mtime":1614354832405},{"name":"./icons","loc":{"line":4,"column":22},"parent":"/Users/nick/rstudio/shiny_apps/gridlayout/inst/grided/www/make_css_unit_input.ts","resolved":"/Users/nick/rstudio/shiny_apps/gridlayout/inst/grided/www/icons.ts"},{"name":"./make_el","loc":{"line":5,"column":24},"parent":"/Users/nick/rstudio/shiny_apps/gridlayout/inst/grided/www/make_css_unit_input.ts","resolved":"/Users/nick/rstudio/shiny_apps/gridlayout/inst/grided/www/make_el.ts"},{"name":"./misc-helpers","loc":{"line":6,"column":29},"parent":"/Users/nick/rstudio/shiny_apps/gridlayout/inst/grided/www/make_css_unit_input.ts","resolved":"/Users/nick/rstudio/shiny_apps/gridlayout/inst/grided/www/misc-helpers.ts"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.make_css_unit_input=void 0;var e=require(\"./icons\"),t=require(\"./make_el\"),n=require(\"./misc-helpers\");function i(i){var a=i.parent_el,r=i.selector,s=void 0===r?\"\":r,u=i.start_val,o=void 0===u?1:u,l=i.start_unit,c=void 0===l?\"fr\":l,v=i.on_change,d=void 0===v?function(e){return console.log(\"css unit change\",e)}:v,_=i.allowed_units,p=void 0===_?[\"fr\",\"px\",\"rem\"]:_,f=i.form_styles,g=void 0===f?{}:f,m=i.drag_dir,h=void 0===m?\"none\":m,k=\"none\"!==h,b=t.make_el(a,\"form\"+s+\".css-unit-input\",{styles:g,event_listener:[{event:\"change\",func:function(){var e=M();q(e),d(e)}},{event:\"submit\",func:function(e){e.preventDefault()}}]}),x=t.make_el(b,\"input.css-unit-input-value\",{props:{type:\"number\",min:0,value:o,step:1,\"aria-live\":\"polite\"}}),y=t.make_el(b,\"select.css-unit-input-select\",{props:{name:\"units\"}}),L=t.make_el(b,\"div.css-unit-input-dragger\",{innerHTML:\"y\"===h?e.vertical_drag_icon:e.horizontal_drag_icon});function M(){return\"\"+x.value+y.value}function q(e){x.value=n.get_css_value(e).toString();for(var t=n.get_css_unit(e),i=0,a=y.children;i<a.length;i++){var r=a[i];r.selected=r.value===t}\"px\"===t&&k?b.classList.add(\"with-drag\"):b.classList.remove(\"with-drag\")}return t.make_el(L,\"div.css-unit-input-drag-detector\",{props:{draggable:!0},event_listener:[{event:\"dragstart\",func:function(e){this.dataset.baseline=x.value,this.dataset.start=e[h]}},{event:\"drag\",func:function(e){if(0!==e[h]){var t=Math.max(0,+this.dataset.baseline+(e[h]-this.dataset.start));x.value=t.toString(),d(M())}}}]}),p.forEach(function(e){var n=t.make_el(y,\"option.\"+e,{props:{value:e},innerHTML:e});e===c&&(n.selected=!0)}),q(\"\"+o+c),{form:b,current_value:M,update_value:q}}exports.make_css_unit_input=i;"},"sourceMaps":null,"error":null,"hash":"ec7b1f820c7b3483d66b616f51bcfd8b","cacheData":{"env":{}}}